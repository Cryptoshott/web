"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[587],{2587:function(t,a,e){e.r(a),e.d(a,{AuthContextProvider:function(){return l},useAuth:function(){return d}});var n=e(18038),r=e(719),i=e(99566),o=e(6072),u=e(30851);let c=(0,r.createContext)({}),d=()=>(0,r.useContext)(c),l=t=>{let{children:a}=t,[e,d]=(0,r.useState)(null),[l,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let t=(0,i.Aj)(o.I,async t=>{if(t){let a={uid:null==t?void 0:t.uid,email:null==t?void 0:t.email,displayName:null==t?void 0:t.displayName,displayNamePicture:null==t?void 0:t.photoURL,userPhone:null==t?void 0:t.phoneNumber,emailVerified:null==t?void 0:t.emailVerified};d(a),console.log(a.emailVerified)}else d(null);s(!1)});return()=>t()},[]);let h=async(t,a,e,n)=>{try{let r=await (0,i.Xb)(o.I,e,n),c={uid:null==r?void 0:r.user.uid,email:e,displayName:"".concat(t," ").concat(a),photoURL:"https://ui-avatars.com/api/?background=26B29D&color=fff&bold=true&name=".concat(t,"+").concat(a)};return await (0,u.r4)(c),await (0,i.ck)(o.I.currentUser,c),d(c),r}catch(t){throw t}},f=async(t,a)=>{try{let e=await (0,i.e5)(o.I,t,a),n={uid:null==e?void 0:e.user.uid,email:null==e?void 0:e.user.email,displayName:null==e?void 0:e.user.displayName,photoURL:null==e?void 0:e.user.photoURL,emailVerified:null==e?void 0:e.user.emailVerified};return d(n),e}catch(t){throw t}},p=async()=>{try{let t=await (0,i.XB)(o.I),a={uid:null==t?void 0:t.user.uid,email:"satoshi.nakamoto@digitalfx.com.gh",displayName:"Anonymous",photoURL:"https://ui-avatars.com/api/?background=26B29D&color=fff&bold=true&name=Anonymous",emailVerified:!1};return d(a),t}catch(t){throw t}},m=async()=>{try{d(null),await (0,i.w7)(o.I)}catch(t){throw t}},v=async t=>{try{return await (0,i.LS)(o.I,t)}catch(t){throw t}},y=async()=>{try{return await (0,i.w$)(o.I.currentUser)}catch(t){throw t}},w=async()=>{try{var t,a,e,n;await o.I.currentUser.reload();let r={uid:o.I.currentUser.uid,email:null!==(t=o.I.currentUser.email)&&void 0!==t?t:"satoshi.nakamoto@digitalfx.com.gh",displayName:null!==(a=o.I.currentUser.displayName)&&void 0!==a?a:"Anonymous",photoURL:null!==(e=o.I.currentUser.photoURL)&&void 0!==e?e:"https://ui-avatars.com/api/?background=26B29D&color=fff&bold=true&name=Anonymous",emailVerified:null!==(n=o.I.currentUser.emailVerified)&&void 0!==n&&n};return d(r),o.I.currentUser}catch(t){throw t}};return(0,n.jsx)(c.Provider,{value:{user:e,signin:f,signup:h,signout:m,sendUserPasswordReset:v,sendUserConfirmationEmail:y,anonymousSignin:p,refreshUser:w},children:l?null:a})}},46270:function(t,a,e){e.d(a,{KJ:function(){return c},Z$:function(){return i},ai:function(){return o},bT:function(){return d},un:function(){return u}});var n=e(51235),r=e.n(n);let i=async(t,a)=>(await r().post("https://api.digitalfx.com.gh/create-invoice",{amount:t,transactionId:a},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})).data,o=async(t,a)=>(await r().post("https://api.digitalfx.com.gh/validate-wallet",{coin:t,walletAddress:a})).data,u=async(t,a)=>(await r().post("https://api.digitalfx.com.gh/resolve-phone",{phoneNumber:t,paymentMethod:a})).data,c=async t=>await r().post("https://api.digitalfx.com.gh/notify-slack",{message:t}),d=async t=>{try{return(await r().post("https://api.digitalfx.com.gh/get-invoice",{invoiceId:t})).data}catch(t){throw console.error("Error fetching invoice:",t),t}}},30851:function(t,a,e){e.d(a,{K7:function(){return l},Mi:function(){return h},TH:function(){return y},UU:function(){return f},Yg:function(){return p},_X:function(){return u},dc:function(){return w},fb:function(){return v},mC:function(){return c},nW:function(){return d},ne:function(){return m},r4:function(){return s}});var n=e(46270),r=e(6072),i=e(96715);let o=(0,i.ad)();async function u(t,a){let e="",o=await (0,i.ET)((0,i.hJ)(r.R,"transactions"),{...t,createdAt:(0,i.Bt)()});return"sell"===a&&await (0,n.Z$)(t.amount,o.id).then(t=>{e=t.checkoutLink}),await (0,i.r7)(o,{id:o.id,checkoutLink:e}),{id:o.id,checkoutLink:e}}async function c(t){let a=await (0,i.PL)((0,i.hJ)(r.R,"transactions")),e=[];return a.forEach(a=>{var n;(null===(n=a.data())||void 0===n?void 0:n.user.uid)===t&&e.push(a.data())}),e.sort((t,a)=>a.createdAt-t.createdAt),e}async function d(t,a){let e=await (0,i.PL)((0,i.hJ)(r.R,"transactions")),n=null;return e.forEach(e=>{var r;(null===(r=e.data())||void 0===r?void 0:r.user.uid)===t&&e.id===a&&(n=e.data())}),n}async function l(t,a,e){let n=(0,i.JU)(o,"transactions",t);await (0,i.r7)(n,{...e,updatedAt:(0,i.Bt)()}).then(()=>{}).catch(t=>{console.error("Error updating document: ",t)})}async function s(t){let a=await (0,i.ET)((0,i.hJ)(r.R,"users"),{...t,createdAt:(0,i.Bt)()});return await (0,i.r7)(a,{id:a.id}),a.id}async function h(t){let a=await (0,i.PL)((0,i.hJ)(r.R,"users")),e=null;return a.forEach(a=>{a.data().uid===t&&(e=a.data())}),e}async function f(t){let a=await (0,i.PL)((0,i.hJ)(r.R,"transactions")),e=[];return a.forEach(a=>{var n;(null===(n=a.data())||void 0===n?void 0:n.user.uid)===t&&e.push(a.data())}),e.sort((t,a)=>a.createdAt-t.createdAt),e.slice(0,10)}async function p(t){let a=await (0,i.PL)((0,i.hJ)(r.R,"transactions")),e=0;return a.forEach(a=>{var n;(null===(n=a.data())||void 0===n?void 0:n.user.uid)===t&&"completed"===a.data().status&&(e+=a.data().localCurrencyAmount)}),e}async function m(){let t=await (0,i.PL)((0,i.hJ)(r.R,"rates")),a=[];return t.forEach(t=>{a.push(t.data())}),a}async function v(t){(await (0,i.PL)((0,i.hJ)(r.R,"rates"))).forEach(a=>{(0,i.r7)(a.ref,{...t,updatedAt:(0,i.Bt)()}).then(()=>{}).catch(t=>{})})}async function y(){let t=await (0,i.PL)((0,i.hJ)(r.R,"transactions")),a=[];return t.forEach(t=>{var e,n,r;(null===(e=t.data())||void 0===e?void 0:e.status)!=="system cancelled"&&(null===(n=t.data())||void 0===n?void 0:n.status)!=="user cancelled"&&(null===(r=t.data())||void 0===r?void 0:r.status)!=="completed"&&a.push(t.data())}),a.sort((t,a)=>a.createdAt-t.createdAt),a}async function w(){let t=await (0,i.PL)((0,i.hJ)(r.R,"transactions")),a=[];return t.forEach(t=>{var e,n,r;((null===(e=t.data())||void 0===e?void 0:e.status)==="system cancelled"||(null===(n=t.data())||void 0===n?void 0:n.status)==="user cancelled"||(null===(r=t.data())||void 0===r?void 0:r.status)==="completed")&&a.push(t.data())}),a.sort((t,a)=>a.createdAt-t.createdAt),a}},6072:function(t,a,e){e.d(a,{I:function(){return d},R:function(){return c}});var n=e(61565),r=e(65917),i=e(96715),o=e(99566);let u=(0,n.ZF)({apiKey:"AIzaSyCK8bpwvdRraw8iNW3XKy4jj5yobggE8I8",authDomain:"digitalfx-4ba71.firebaseapp.com",projectId:"digitalfx-4ba71",storageBucket:"digitalfx-4ba71.appspot.com",messagingSenderId:"752693208110",appId:"1:752693208110:web:d3cdd5c72112b266536bbf",measurementId:"G-3EZD10ZXWR"});u.name&&(0,r.IH)(u);let c=(0,i.ad)(u),d=(0,o.v0)(u)}}]);