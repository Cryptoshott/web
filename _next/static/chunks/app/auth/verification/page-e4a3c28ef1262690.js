(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[463],{44523:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(719),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,children:d,...c},u)=>(0,a.createElement)("svg",{ref:u,...n,width:r,height:r,stroke:s,strokeWidth:l?24*Number(i)/Number(r):i,className:`lucide lucide-${o(e)}`,...c},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...(Array.isArray(d)?d:[d])||[]]));return s.displayName=`${e}`,s}},78915:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(44523).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},14975:function(e,t,s){Promise.resolve().then(s.bind(s,48557))},48557:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(18038),n=s(2587),o=s(2752),r=s(51235),i=s.n(r),l=s(78915),d=s(719),c=s(82103),u=s.n(c),m=s(35894);function p(){let{user:e}=(0,n.useAuth)(),[t,s]=(0,d.useState)(""),[r,c]=(0,d.useState)("Ghana"),[p,h]=(0,d.useState)("front"),[x,f]=(0,d.useState)(null),[g,y]=(0,d.useState)(!1),[j,v]=(0,d.useState)(""),[N,b]=(0,d.useState)(""),[w,S]=(0,d.useState)(""),[k,A]=(0,d.useState)(0),[_,T]=(0,d.useState)(""),{toast:E}=(0,o.pm)(),P=async(e,t,s,a,n)=>{let o=new FormData;return o.append("document_type",t),o.append("issued_country",s),o.append("side",a),o.append("file",n),(await i().post("https://api.dataspike.io/api/v3/upload/".concat(e),o,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(m.env.DATASPIKE_API_KEY)},onUploadProgress:e=>{A(Math.round(e.loaded/e.total*100))}})).data},I=async()=>(await i().post("https://api.dataspike.io/api/v3/applicants",{},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m.env.DATASPIKE_API_KEY)}})).data,C=async e=>(await i().get("https://api.dataspike.io/api/v3/applicants/".concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m.env.DATASPIKE_API_KEY)}})).data,O=async()=>{y(!0);try{let e=await I();v(e.id);let s=await P(e.id,t,r,p,x);b(s.status),T(s);let a=await C(e.id);console.log(a),E({title:"Success",description:"KYC document uploaded successfully",status:"success",duration:5e3,isClosable:!0})}catch(e){S(e.message),E({title:"Error",description:e.message,status:"error",duration:5e3,isClosable:!0})}finally{y(!1)}};return(0,a.jsx)("div",{className:"px-4 py-16 mx-auto sm:px-6 lg:px-8",children:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-1",children:[(0,a.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,a.jsx)(l.Z,{href:"/",children:(0,a.jsx)(u(),{src:logo,height:60,width:140,alt:"logo"})}),(0,a.jsxs)("h3",{className:"mt-12 text-lg font-medium leading-6 text-gray-900",children:["Identity Verification"," "]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Ensure that all information is accurate and authentic."})]}),(0,a.jsxs)("div",{className:"px-4 mt-12 sm:px-0",children:[(0,a.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"The document must confirm"}),(0,a.jsxs)("ul",{className:"mt-2 text-sm text-gray-600",children:[(0,a.jsx)("li",{className:"mt-2",children:"Your full name"}),(0,a.jsx)("li",{className:"mt-2",children:"Your date of birth"}),(0,a.jsx)("li",{className:"mt-2",children:"Your residence"})]})]}),(0,a.jsxs)("div",{className:"px-4 mt-12 sm:px-0",children:[(0,a.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Image Requirements"}),(0,a.jsxs)("ul",{className:"mt-2 ml-4 text-sm text-gray-600 list-disc",children:[(0,a.jsx)("li",{className:"mt-2",children:"File size must be up to 10MB"}),(0,a.jsx)("li",{className:"mt-2",children:"Colourful, clear and readable"}),(0,a.jsx)("li",{className:"mt-2",children:"BMP, JPG, JPEG or PNG format"})]})]})]}),(0,a.jsx)("div",{className:"mt-16 md:col-span-2 md:mt-0",children:(0,a.jsx)("form",{onSubmit:O,children:(0,a.jsxs)("div",{className:"shadow sm:overflow-hidden sm:rounded-md",children:[(0,a.jsxs)("div",{className:"px-4 py-5 space-y-6 bg-white sm:p-6",children:[(0,a.jsx)("div",{className:"flex ",children:(0,a.jsx)("h3",{className:"text-3xl font-bold leading-6 text-gray-900",children:"Verify your identity"})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,a.jsx)("label",{htmlFor:"document-type",className:"block text-sm font-medium text-gray-700",children:"Select document type"}),(0,a.jsxs)("select",{id:"document-type",name:"document-type",onChange:e=>s(e.target.value),className:"block w-full px-3 py-2 mt-1 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-kondocho-500 focus:border-kondocho-500 sm:text-sm",children:[(0,a.jsx)("option",{children:"Passport"}),(0,a.jsx)("option",{children:"Driving License"}),(0,a.jsx)("option",{children:"Identity Card"})]})]}),(0,a.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,a.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,a.jsx)("select",{id:"country",name:"country",onChange:e=>setCountry(e.target.value),className:"block w-full px-3 py-2 mt-1 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-kondocho-500 focus:border-kondocho-500 sm:text-sm",children:(0,a.jsx)("option",{children:"Ghana"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Document Photo"}),(0,a.jsx)("div",{className:"flex justify-center px-6 pt-16 pb-12 mt-1 border-2 border-gray-300 border-dashed rounded-md",children:(0,a.jsxs)("div",{className:"space-y-1 text-center",children:[(0,a.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,a.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,a.jsxs)("label",{htmlFor:"file-upload",className:"relative font-medium bg-white rounded-md cursor-pointer text-kondocho-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-kondocho-500 focus-within:ring-offset-2 hover:text-kondocho-500",children:[(0,a.jsx)("span",{children:"Upload a file"}),(0,a.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only"})]}),(0,a.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG up to 10MB"})]})})]})]}),(0,a.jsx)("div",{className:"px-4 py-3 text-right bg-gray-50 sm:px-6",children:(0,a.jsx)("button",{type:"submit",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md shadow-sm bg-kondocho-600 hover:bg-kondocho-700 focus:outline-none focus:ring-2 focus:ring-kondocho-500 focus:ring-offset-2",children:"Submit"})})]})})})]})})})}},2752:function(e,t,s){"use strict";s.d(t,{pm:function(){return m}});var a=s(719);let n=0,o=new Map,r=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?r(s):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=i(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_VALUE).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(d);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},35836:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{unstable_getImgProps:function(){return l},default:function(){return d}});let a=s(97295),n=s(85097),o=s(1226),r=s(33729),i=a._(s(43374)),l=e=>{(0,o.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,n.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}},d=r.Image},82103:function(e,t,s){e.exports=s(35836)}},function(e){e.O(0,[620,612,825,729,587,120,543,744],function(){return e(e.s=14975)}),_N_E=e.O()}]);