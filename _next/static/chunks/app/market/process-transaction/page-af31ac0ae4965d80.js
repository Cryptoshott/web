(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{28122:function(e,t,s){Promise.resolve().then(s.bind(s,66652))},66652:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var a=s(18038),r=s(9723),n=s(22904),l=s(79807),i=s(70282),c=s(91954),o=s(719),d=s(5264),m=s(46270),x=s(30851),u=s(2587),h=s(22582),f=s(80972),g=s(72906),y=s(60092);function j(e){let{isOpen:t,onClose:s,onConfirm:n,action:l}=e,[i,c]=(0,o.useState)(!1),[d,m]=(0,o.useState)(""),[x,u]=(0,o.useState)(!1),[h,j]=(0,o.useState)("");(0,o.useEffect)(()=>{c(t)},[t]);let p=(0,o.useRef)(null),b=()=>{u(!0),"buy"===l&&n(d),"sell"===l&&n(h)};return(0,a.jsx)(f.u.Root,{show:i,as:o.Fragment,children:(0,a.jsxs)(g.V,{as:"div",className:"relative z-10",initialFocus:p,onClose:()=>{c(!1),s()},children:[(0,a.jsx)(f.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex items-end justify-center min-h-full p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(f.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(g.V.Panel,{className:"relative overflow-hidden text-left transition-all transform bg-white rounded-lg shadow-xl dark:bg-gray-800 sm:my-8 sm:w-full sm:max-w-lg",children:[(0,a.jsx)("div",{className:"px-4 pt-5 pb-4 bg-white dark:bg-gray-800 sm:p-6 sm:pb-4",children:(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 mx-auto rounded-full bg-kondocho-100 dark:bg-kondocho-600 sm:mx-0 sm:h-10 sm:w-10",children:(0,a.jsx)(y.Z,{className:"w-6 h-6 text-kondocho-600 dark:text-kondocho-100","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,a.jsx)(g.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",children:"buy"===l?"Enter Transaction ID":"Enter Transaction Hash"}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"buy"===l?"Enter the transaction ID of your payment":"Enter the transaction hash from the blockchain"}),"buy"===l?(0,a.jsx)("input",{id:"transactionId",name:"transactionId",onChange:e=>{m(e.target.value)},type:"text",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-kondocho-500 focus:border-kondocho-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Transaction ID"}):(0,a.jsx)("input",{id:"transactionHashId",name:"transactionHashId",onChange:e=>{j(e.target.value)},type:"text",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-kondocho-500 focus:border-kondocho-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Transaction Hash"})]})]})]})}),(0,a.jsx)("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700 sm:flex sm:flex-row-reverse sm:px-6",children:x?(0,a.jsx)(r.$,{className:"justify-center mt-6"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",className:"inline-flex justify-center w-full px-4 py-2 text-base font-medium text-white bg-red-600 border border-transparent rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{u(!0),b(),c(!1)},children:"Submit"}),(0,a.jsx)("button",{type:"button",className:"inline-flex justify-center w-full px-4 py-2 mt-3 text-base font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-600 dark:border-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-kondocho-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{c(!1),s()},ref:p,children:"Cancel"})]})})]})})})})]})})}var p=s(82103),b=s.n(p),N=s(33711),v=s(2752),w=s(43290),k=s(72257),C=s(90077),T=s(63821),S=s.n(T);function D(e,t,s,a,r,n,l,i){e.lineWidth=i,e.fillStyle=r,e.strokeStyle=r,s+=i/2,t+=i/2,a-=i,Array.isArray(n)||(n=[n,n,n,n]);let[c,o,d,m]=n=n.map(e=>Math.max(0,Math.min(e,a/2)));e.beginPath(),e.moveTo(t+c,s),e.lineTo(t+a-o,s),o&&e.quadraticCurveTo(t+a,s,t+a,s+o),e.lineTo(t+a,s+a-d),d&&e.quadraticCurveTo(t+a,s+a,t+a-d,s+a),e.lineTo(t+m,s+a),m&&e.quadraticCurveTo(t,s+a,t,s+a-m),e.lineTo(t,s+c),c&&e.quadraticCurveTo(t,s,t+c,s),e.closePath(),e.stroke(),l&&e.fill()}function A(e){let{value:t="https://digitalfx.com.gh/",ecLevel:s="M",enableCORS:r=!1,size:n=150,quietZone:l=10,bgColor:i="#FFFFFF",fgColor:c="#000000",logoOpacity:d=1,qrStyle:m="squares",eyeRadius:x=[0,0,0],logoPaddingStyle:u="square",eyeColor:h="#26B29D",logoImage:f,logoWidth:g,logoHeight:y,removeQrCodeBehindLogo:j,logoPadding:p=0,id:b}=e,N=(0,o.useRef)(null),v=(0,o.useCallback)((e,t,s)=>s.some(s=>t>=s.row&&t<=s.row+7&&e>=s.col&&e<=s.col+7),[]);return(0,o.useEffect)(()=>{let e=S()(0,s);e.addData(function(e){let t="",s,a,r=e.length;for(s=0;s<r;s++)(a=e.charCodeAt(s))>=1&&a<=127?t+=e.charAt(s):a>2047?t+=String.fromCharCode(224|a>>12&15)+String.fromCharCode(128|a>>6&63)+String.fromCharCode(128|a>>0&63):t+=String.fromCharCode(192|a>>6&31)+String.fromCharCode(128|a>>0&63);return t}(t)),e.make();let a=N.current,o=a.getContext("2d"),b=n+2*l,w=e.getModuleCount(),k=n/w,C=window.devicePixelRatio||1;a.height=a.width=b*C,o.scale(C,C),o.fillStyle=i,o.fillRect(0,0,b,b);let T=[{row:0,col:0},{row:0,col:w-7},{row:w-7,col:0}];if(o.strokeStyle=c,"dots"===m){o.fillStyle=c;let t=k/1.5;for(let s=0;s<w;s++)for(let a=0;a<w;a++)e.isDark(s,a)&&!v(s,a,T)&&(o.beginPath(),o.arc(Math.round(a*k)+t+l,Math.round(s*k)+t+l,t/100*75,0,2*Math.PI,!1),o.closePath(),o.fill())}else for(let t=0;t<w;t++)for(let s=0;s<w;s++)if(e.isDark(t,s)&&!v(t,s,T)){o.fillStyle=c;let e=Math.ceil((s+1)*k)-Math.floor(s*k),a=Math.ceil((t+1)*k)-Math.floor(t*k);o.fillRect(Math.round(s*k)+l,Math.round(t*k)+l,e,a)}for(let e=0;e<3;e++){let{row:t,col:s}=T[e],a=x;Array.isArray(a)&&(a=a[e]),"number"==typeof a&&(a=[a,a,a,a]),function(e,t,s,a,r,n){let l,i,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0,0,0];c=c.map(e=>e+2);let o=Math.ceil(t);"number"==typeof c||Array.isArray(c)?(l=c,i=c):(l=c.outer||0,i=c.inner||0);let d=a*t+s,m=r*t+s,x=7*t;D(e,m,d,x,n.outer||n,l,!1,o),x=3*t,d+=2*t,D(e,m+=2*t,d,x,n.inner||n,i,!0,o)}(o,k,l,t,s,h?Array.isArray(h)?h[e]:h:"#26B29D",a)}if(f){let e=new Image;r&&(e.crossOrigin="Anonymous"),e.onload=()=>{o.save();let t=g||.2*n,s=y||t,a=(n-t)/2,r=(n-s)/2;if(j||p){o.beginPath(),o.strokeStyle=i,o.fillStyle=i;let e=t+2*p,n=s+2*p,c=a+l-p,d=r+l-p;"circle"===u?(o.ellipse(c+e/2,d+n/2,e/2,n/2,0,0,2*Math.PI),o.stroke(),o.fill()):o.fillRect(c,d,e,n)}o.globalAlpha=d,o.drawImage(e,a+l,r+l,t,s)},e.src=f}},[v,t]),(0,a.jsx)("canvas",{id:b,height:n+2*l,width:n+2*l,style:{height:n+"px",width:n+"px"},ref:N})}var E=function(e){let{text:t}=e,[s,r]=(0,o.useState)(!1);return(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(t);let e=setTimeout(()=>{r(!1),clearTimeout(e)},2e3);r(!0)},className:"flex items-center justify-center w-10 h-10 ml-2 text-gray-400 bg-gray-100 rounded-full hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700",children:s?(0,a.jsx)(C.nQG,{className:"text-kondocho-500"}):(0,a.jsx)(C.TIy,{})})},M=s(88159);function F(e){let{transaction:t}=e,[s,r]=(0,o.useState)("bitcoin"),[n,l]=(0,o.useState)(""),[i,c]=(0,o.useState)(""),[d,x]=(0,o.useState)(""),[u,h]=(0,o.useState)(""),[f,g]=(0,o.useState)(""),[y,j]=(0,o.useState)(""),[p,N]=(0,o.useState)(""),[v,k]=(0,o.useState)(["bitcoin","lightning"]),[T,S]=(0,o.useState)([]),[D,F]=(0,o.useState)(""),[I,L]=(0,o.useState)(!1),[P,O]=(0,o.useState)("");return(0,o.useEffect)(()=>{let e=t.checkoutLink.split("/").pop();(0,m.bT)(e).then(e=>{let s=e.data.paymentMethods.filter(e=>"BTC-LNURLPAY"!==e.paymentMethod);l(s[0].destination),c(s[0].paymentLink),x(s[0].rate),h(e.data.invoice.amount),g(s[0].amount),j(s[0].due),N(s[0].networkFee),S(s),F(t.coin.symbol.toUpperCase())})},[]),(0,o.useEffect)(()=>{let e=setInterval(()=>{let s=t.checkoutLink.split("/").pop();(0,m.bT)(s).then(t=>{let s=t.data.invoice.status;O(s),("Settled"===s||"Expired"===s||"Invalid"===s)&&clearInterval(e)})},3e3);return()=>{clearInterval(e)}},[]),(0,a.jsxs)("div",{className:"flex flex-col justify-center min-h-full py-12 sm:px-6 lg:px-8 dark:bg-gray-800 dark:text-white",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,a.jsx)(b(),{className:"w-auto h-12 mx-auto",src:w.default,alt:"Digital Exchange ",height:80}),"New"===P&&(0,a.jsx)("h2",{className:"p-2 mt-6 text-3xl font-extrabold text-center text-gray-900 dark:text-gray-200",children:"Time to transfer your coins to us!"}),"Settled"===P&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-center text-gray-900",children:"Payment Received!"}),(0,a.jsx)("div",{className:"flex justify-center mt-6",children:(0,a.jsx)(C.nQG,{className:"w-16 h-16 text-green-500"})}),(0,a.jsx)("div",{className:"flex justify-center mt-6",children:(0,a.jsx)("p",{className:"text-sm text-center text-gray-600",children:"We have received your payment and will process your order shortly."})})]}),"Expired"===P&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-center text-gray-900 dark:text-gray-200",children:"Payment Expired!"}),(0,a.jsx)("div",{className:"flex justify-center mt-6",children:(0,a.jsx)("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:"If you made a payment after the invoice expired, your transaction will be processed."})})]}),"Invalid"===P&&(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-center text-gray-900 dark:text-gray-200",children:"Payment Invalid!"})]}),"New"==P&&(0,a.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsxs)("div",{className:"px-4 py-8 bg-white shadow sm:rounded-lg sm:px-10 dark:bg-gray-900 dark:text-white",children:[(0,a.jsxs)("div",{className:"inline-flex justify-center w-full mt-2 text-2xl font-extrabold text-center text-gray-600 dark:text-gray-200",children:[(0,a.jsx)("span",{id:"crypto-amount",children:f})," ",D,(0,a.jsx)(E,{text:f})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center self-center justify-center w-full",children:[(0,a.jsxs)("button",{onClick:()=>{L(!I)},className:"inline-flex items-center justify-center mt-2 text-sm font-medium text-center text-kondocho-500 hover:text-kondocho-700",children:["View More Details",(0,a.jsx)(C.veu,{})]}),I&&(0,a.jsx)(M.E.div,{initial:"collapsed",animate:"expanded",exit:"collapsed",variants:{expanded:{height:"auto"},collapsed:{height:0}},transition:{duration:.2},className:"overflow-hidden",children:(0,a.jsxs)("dl",{className:"grid grid-cols-2 gap-5 mt-5 ",children:[(0,a.jsxs)("div",{className:"sm:col-span-1",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-200",children:"Total Price"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-200",children:[f," ",D]})]}),(0,a.jsxs)("div",{className:"sm:col-span-1",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-200",children:"Total Fiat"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-200",children:["$",u]})]}),(0,a.jsxs)("div",{className:"sm:col-span-1",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-200",children:"Exchange Rate"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-200",children:["1 ",D," = $",d]})]}),(0,a.jsxs)("div",{className:"sm:col-span-1",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-200",children:"Amount Due"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 dark:text-gray-200",children:[y," ",D]})]})]})})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 text-gray-500 bg-white dark:bg-gray-900 dark:text-gray-200",children:"Pay with"})})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:v.map(e=>(0,a.jsx)("button",{onClick:()=>{"bitcoin"===e?(r("bitcoin"),l(T[0].destination),c(T[0].paymentLink),x(T[0].rate),h(u),g(T[0].amount),j(T[0].due),N(T[0].networkFee),F(T[0].cryptoCode)):"lightning"===e&&(r("lightning"),l(T[1].destination),c(T[1].paymentLink),x(T[1].rate),h(u),g(T[1].amount),j(T[1].due),N(T[1].networkFee),F(T[1].cryptoCode))},className:"".concat(s===e?"bg-kondocho-500 text-white hover:bg-kondocho-600 dark:bg-kondocho-500 dark:text-white dark:hover:bg-kondocho-600":"bg-white hover:bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800"," border border-gray-300 rounded-md shadow-sm py-2 text-sm font-medium text-gray-700 flex justify-center items-center capitalize dark:text-gray-200 dark:border-gray-700"),children:e},e))})}),(0,a.jsx)("div",{className:"flex justify-center mt-6",children:(0,a.jsx)(A,{size:300,logoWidth:60,logoImage:"/D&B.svg",qrStyle:"dots",value:i,removeQrCodeBehindLogo:!0})}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Address"}),(0,a.jsx)("span",{id:"address",className:"text-sm text-gray-500 dark:text-gray-200"})]}),(0,a.jsxs)("div",{className:"inline-flex justify-between w-full mt-1 rounded-md shadow-sm dark:bg-gray-900 dark:text-gray-200",children:[(0,a.jsx)("input",{type:"text",name:"address",id:"address",className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-kondocho-500 focus:border-kondocho-500 sm:text-sm dark:bg-gray-900 dark:text-gray-200 dark:border-gray-700",placeholder:n,value:n,readOnly:!0}),(0,a.jsx)(E,{text:n})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("a",{href:i,type:"button",className:"inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md shadow-sm bg-kondocho-500 hover:bg-kondocho-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kondocho-500 dark:bg-kondocho-500 dark:hover:bg-kondocho-600",children:"Pay in Wallet"})})]})]})]})})]})}function I(){let e=(0,c.useRouter)(),t=(0,c.useSearchParams)(),{user:s}=(0,u.useAuth)(),[f,g]=o.useState(""),{toast:y}=(0,v.pm)(),[p,C]=o.useState(1800),[T,S]=o.useState(null),[D,A]=o.useState(!1),[E,M]=o.useState(!1),[I,L]=o.useState(!1),[P,O]=o.useState(0),[W,R]=o.useState(0);o.useEffect(()=>{(async()=>{let a=t.get("id"),r=await (0,x.nW)(null==s?void 0:s.uid,a).then(e=>e);if(!r){y({title:"Transaction not found.",description:"This transaction does not exist.",status:"error",duration:9e3,isClosable:!0,variant:"destructive"}),e.push("/market/dashboard?page=History");return}S(r);let n=new Date(1e3*r.createdAt.seconds+r.createdAt.nanoseconds/1e6);Date.now(),n.getTime();let l=setInterval(async()=>{let e=Date.now();C(Math.floor((n.getTime()+9e5-e)/1e3));let a=t.get("id");S(await (0,x.nW)(null==s?void 0:s.uid,a).then(e=>e))},3e3);return()=>clearInterval(l)})()},[t,null==s?void 0:s.uid,y,e]);let _=Math.floor(p/60),B=p%60,Z=(e,t)=>{let s=document.createElement("textarea");switch(s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),t){case"address":y({title:"Copied to clipboard.",description:"You can now paste the address to your wallet.",status:"success",duration:9e3,isClosable:!0});break;case"amount":y({title:"Copied to clipboard.",description:"You can now paste the amount to your wallet.",status:"success",duration:9e3,isClosable:!0});break;case"reference":y({title:"Copied to clipboard.",description:"You can now paste the reference to your wallet.",status:"success",duration:9e3,isClosable:!0});break;case"phone":y({title:"Copied to clipboard.",description:"You can now paste the phone number to your wallet.",status:"success",duration:9e3,isClosable:!0});default:y({title:"Copied to clipboard.",description:"The text has been copied to your clipboard.",status:"success",duration:9e3,isClosable:!0})}document.body.removeChild(s)},G=()=>{(0,x.K7)(null==T?void 0:T.id,null==s?void 0:s.uid,{status:"user paid"}).then(()=>{L(!1),y({title:"Transaction updated.",description:"You have updated this transaction.",status:"success",duration:9e3,isClosable:!0}),T.status="user paid",S(T),(0,m.KJ)("Transaction ".concat(T.id," has been updated to user paid."))})},V=()=>{(0,x.K7)(null==T?void 0:T.id,null==s?void 0:s.uid,{status:"user cancelled"}).then(()=>{y({title:"Transaction cancelled.",description:"You have cancelled this transaction.",status:"error",duration:9e3,isClosable:!0}),(0,m.KJ)("Transaction ".concat(T.id," has been cancelled by the user.")),e.push("/market/dashboard")})};return(0,a.jsxs)(a.Fragment,{children:[(null==T?void 0:T.status)==="pending"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{isOpen:D,title:"Cancel Transaction",message:"Are you sure you want to cancel this transaction?",onConfirm:()=>{V(),A(!1)},onClose:()=>{A(!1)}}),(0,a.jsx)(j,{isOpen:E,onConfirm:e=>{e&&(T.status="user paid",S(T),(0,x.K7)(T.id,s.uid,"buy"===T.action?{status:"user paid",transactionId:e}:{status:"user paid",transactionHashId:e}).then(()=>{y({title:"Transaction updated.",description:"You have submitted proof for this transaction. Please wait while we confirm the transaction.",status:"success",duration:9e3,isClosable:!0}),(0,m.KJ)("Transaction ".concat(T.id," has been updated to user paid."))})),M(!1)},action:T.action,onClose:()=>{M(!1)}}),T&&"sell"===T.action&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F,{transaction:T}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full p-2",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsxs)("div",{className:"items-center justify-center mt-4",children:[(0,a.jsx)("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:"The system will wait for 15 minutes for you to send the coins"}),(0,a.jsxs)("div",{className:"flex items-center justify-center mt-2",children:[(0,a.jsx)(N.Z,{className:"w-5 h-5 mr-2 text-gray-400 dark:text-gray-500"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Note: The amount you will be paid in Ghanaian Cedis is subject to the amount of BTC received on our end"})]})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center w-full h-full mt-4",children:[(0,a.jsx)("button",{onClick:()=>{M(!0)},className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700",children:"I have sent the coins"}),(0,a.jsx)("button",{onClick:()=>{A(!0)},className:"px-4 py-2 ml-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Cancel"})]})]})})]}),T&&"buy"===T.action&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full p-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(b(),{src:w.default,alt:"Digital Exchange Logo",className:"w-1/2 my-5"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsxs)("svg",{className:"w-24 h-24 animate-spin",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v1a7 7 0 00-7 7h1z"})]}),(0,a.jsx)("h2",{className:"mt-2 text-xl font-semibold text-gray-700 dark:text-white",children:"Processing your transaction"}),(0,a.jsxs)("div",{className:"flex items-center justify-center mt-2",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:["Please make payment of"," ",(0,a.jsxs)("span",{className:"font-bold",children:[T.localCurrencyAmount," ",T.localCurrency]})]}),(0,a.jsx)("div",{className:"mr-2 cursor-pointer",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-gray-700 dark:text-gray-500",onClick:()=>Z(T.amount.toString(),"amount")})}),"MTN"===T.paymentMethod||"VOD"===T.paymentMethod?(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"to the Merchant Number below"}):(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"to the Bank Account below"})]}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center mt-4",children:"BANK"===T.paymentMethod?(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg",children:[(0,a.jsx)("p",{className:"mb-2 text-sm font-bold text-gray-700",children:"Access Bank"}),(0,a.jsx)(n.Z,{}),(0,a.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,a.jsx)("span",{className:"font-bold",children:"Digital Exchange Ltd"}),(0,a.jsx)("br",{}),"Account Number:"," ",(0,a.jsx)("span",{className:"font-bold",children:"1038000002275"})]}),(0,a.jsx)("div",{className:"inline-block mt-2 cursor-pointer",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-gray-700 dark:text-gray-500",onClick:()=>Z("Bank: Digital Exchange Ltd\nAccount Number: 1038000002275","bank")})})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg",children:[(0,a.jsx)("p",{className:"mb-2 text-sm font-bold text-gray-700",children:"Ecobank"}),(0,a.jsx)(n.Z,{}),(0,a.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,a.jsx)("span",{className:"font-bold",children:"Digital Exchange Ltd"}),(0,a.jsx)("br",{}),"Account Number:"," ",(0,a.jsx)("span",{className:"font-bold",children:"1441002271859"})]}),(0,a.jsx)("div",{className:"inline-block mt-2 cursor-pointer",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-gray-700 dark:text-gray-500",onClick:()=>Z("Bank: Digital Exchange Ltd\nAccount Number: 1441002271859","bank")})})]})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center mt-4",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-700",children:"vod"===(0,k.dt)(T.phoneNumber)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-bold",children:"Till Number 354 765"})," ","- Merchant ID G08994 - Digital Exchange Limited"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-bold",children:"055 931 6558"})," - Digital Exchange Limited / Abu Muktar"]})}),(0,a.jsx)("div",{className:"inline-block mt-2 cursor-pointer",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-gray-700 dark:text-gray-500",onClick:()=>Z("mtn"===(0,k.dt)(T.phoneNumber)?"055 931 6558 - Digital Exchange Limited / Abu Muktar":"Till Number 354 765 - Merchant ID G08994 - Digital Exchange Limited","phone")})})]})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center mt-4",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:["Please add reference code"," ",(0,a.jsx)("span",{className:"font-bold",children:T.transactionReference})," "]}),(0,a.jsx)("div",{className:"inline-block mt-2 cursor-pointer",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-gray-700 dark:text-gray-500",onClick:()=>Z(T.amount.toString(),"reference")})}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:"to your payment"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center mt-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-24 h-24 bg-gray-100 rounded-full",children:[(0,a.jsx)("span",{className:"text-2xl font-semibold text-gray-700 dark:text-white",children:_<10?_<=0?"00":"0".concat(_):_}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Minutes"})]}),(0,a.jsx)("span",{className:"mx-2 text-2xl font-semibold text-gray-700 dark:text-white",children:":"}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-24 h-24 bg-gray-100 rounded-full",children:[(0,a.jsx)("span",{className:"text-2xl font-semibold text-gray-700 dark:text-white",children:B<10?B<=0?"00":"0".concat(B):B}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Seconds"})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"The system will wait for 15 minutes for you to make payment"})}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center w-full h-full mt-4",children:[(0,a.jsx)("button",{onClick:()=>{M(!0)},className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700",children:"I have made payment"}),(0,a.jsx)("button",{onClick:()=>{A(!0)},className:"px-4 py-2 ml-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Cancel"})]})]})]})})]}),(null==T?void 0:T.status)==="user paid"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{isOpen:D,title:"Cancel Transaction",message:"Are you sure you want to cancel this transaction?",onConfirm:()=>{V(),A(!1)},onClose:()=>{A(!1)}}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(b(),{src:w.default,alt:"Digital Exchange Logo",className:"w-1/2 my-5"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsxs)("svg",{className:"w-24 h-24 animate-spin",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v1a7 7 0 00-7 7h1z"})]}),(0,a.jsx)("h2",{className:"mt-2 text-xl font-semibold text-center text-gray-700 dark:text-white",children:"Please wait while we confirm your payment"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"This may take a few minutes"})]})]})]}),(null==T?void 0:T.status)==="user cancelled"&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(b(),{src:w.default,alt:"Digital Exchange Logo",className:"w-1/2 my-5"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-24 h-24 mx-auto mb-4 bg-red-100 rounded-full",children:(0,a.jsx)(d.bcx,{className:"w-24 h-24 text-red-600"})}),(0,a.jsx)("h2",{className:"mt-2 text-xl font-semibold text-gray-700 dark:text-white",children:"Transaction Cancelled"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"You have cancelled this transaction"})]})]})}),(null==T?void 0:T.status)==="system cancelled"&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(b(),{src:w.default,alt:"Digital Exchange Logo",className:"w-1/2 my-5"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-24 h-24 mx-auto mb-4 bg-red-100 rounded-full",children:(0,a.jsx)(d.bcx,{className:"w-24 h-24 text-red-600"})}),(0,a.jsx)("h2",{className:"mt-2 text-xl font-semibold text-gray-700 dark:text-white",children:"Transaction Cancelled"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"This transaction has been cancelled"})]})]})}),(null==T?void 0:T.status)==="completed"&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(b(),{src:w.default,alt:"Digital Exchange Logo",className:"w-1/2 my-5"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-24 h-24 mx-auto mb-4 bg-green-100 rounded-full",children:(0,a.jsx)(i.Z,{className:"w-24 h-24 text-green-600"})}),(0,a.jsx)("h2",{className:"mt-2 text-xl font-semibold text-gray-700 dark:text-white",children:"Transaction Completed"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Thank you for using Digital Exchange"})]})]})}),(null==T?void 0:T.status)==="action required"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)(b(),{src:w.default,alt:"Digital Exchange Logo",className:"w-1/2 my-5"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-24 h-24 bg-yellow-100 rounded-full",children:(0,a.jsx)(d.bcx,{className:"w-12 h-12 text-yellow-500"})}),(0,a.jsx)("h2",{className:"mt-2 text-xl font-semibold text-gray-700 dark:text-white",children:"Action Required"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",dangerouslySetInnerHTML:{__html:null==T?void 0:T.actionNotes}})]})]}),(0,a.jsx)("div",{className:"flex flex-row items-center justify-center w-full h-full mt-4",children:I?(0,a.jsx)(r.$,{className:"justify-center mt-6"}):(0,a.jsx)("button",{onClick:()=>{L(!0),G()},className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700",children:"I have completed the actions"})})]})]})}},22582:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(18038),r=s(719),n=s(80972),l=s(72906),i=s(66179);function c(e){let{isOpen:t,onClose:s,onConfirm:c,title:o,message:d}=e,[m,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{x(t)},[t]);let u=(0,r.useRef)(null);return(0,a.jsx)(n.u.Root,{show:m,as:r.Fragment,children:(0,a.jsxs)(l.V,{as:"div",className:"relative z-10",initialFocus:u,onClose:()=>{x(!1),s()},children:[(0,a.jsx)(n.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex items-end justify-center min-h-full p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(n.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(l.V.Panel,{className:"relative overflow-hidden text-left transition-all transform bg-white rounded-lg shadow-xl dark:bg-gray-800 sm:my-8 sm:w-full sm:max-w-lg",children:[(0,a.jsx)("div",{className:"px-4 pt-5 pb-4 bg-white dark:bg-gray-800 sm:p-6 sm:pb-4",children:(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"flex items-center justify-center flex-shrink-0 w-12 h-12 mx-auto bg-red-100 rounded-full dark:bg-red-600 sm:mx-0 sm:h-10 sm:w-10",children:(0,a.jsx)(i.Z,{className:"w-6 h-6 text-red-600 dark:text-red-100","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,a.jsx)(l.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",children:o}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:d})})]})]})}),(0,a.jsxs)("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,a.jsx)("button",{type:"button",className:"inline-flex justify-center w-full px-4 py-2 text-base font-medium text-white bg-red-600 border border-transparent rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{x(!1),c()},children:o.split(" ")[0]}),(0,a.jsxs)("button",{type:"button",className:"inline-flex justify-center w-full px-4 py-2 mt-3 text-base font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm dark:bg-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-kondocho-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm dark:text-gray-200 dark:border-gray-500 dark:hover:border-gray-400 dark:focus:ring-offset-gray-900",onClick:()=>{x(!1),s()},ref:u,children:["No, don't ",o.split(" ")[0].toLowerCase()]})]})]})})})})]})})}},9723:function(e,t,s){"use strict";s.d(t,{$:function(){return n}});var a=s(18038),r=s(5285);let n=e=>{let{className:t,...s}=e;return(0,a.jsx)(r.Z,{className:"w-6 h-6 animate-spin"})}},2752:function(e,t,s){"use strict";s.d(t,{pm:function(){return x}});var a=s(719);let r=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],o={toasts:[]};function d(e){o=i(o,e),c.forEach(e=>{e(o)})}function m(e){let{...t}=e,s=(r=(r+1)%Number.MAX_VALUE).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=a.useState(o);return a.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},72257:function(e,t,s){"use strict";s.d(t,{Ft:function(){return l},L$:function(){return n},Qw:function(){return o},cn:function(){return x},dt:function(){return d},lt:function(){return m},oB:function(){return i},zN:function(){return c}});var a=s(33501),r=s(82701);s(20102);let n=e=>{let t=document.createElement("canvas");t.width=100,t.height=100;let s=t.getContext("2d");return s.fillStyle="#26B29D",s.fillRect(0,0,t.width,t.height),s.font="bold 50px Arial",s.fillStyle="#fff",s.textAlign="center",s.textBaseline="middle",s.fillText(null==e?void 0:e.charAt(0),t.width/2,t.height/2),t.toDataURL()},l=e=>{let t=new Date(1e3*e.seconds+e.nanoseconds/1e6),s=t.toDateString(),a=t.toLocaleTimeString(),r=new Date,n=new Date(r);return(n.setDate(n.getDate()-1),s===r.toDateString())?"Today at "+a+" GMT":s===n.toDateString()?"Yesterday at "+a+" GMT":s+" at "+a+" GMT"},i=e=>new Date(1e3*e.seconds+e.nanoseconds/1e6).toISOString(),c=()=>Math.random().toString(36).substring(2,8),o=()=>{let e=new Date().getHours();return e<12?"Good Morning":e<18?"Good Afternoon":"Good Evening"},d=async e=>e.startsWith("020")||e.startsWith("050")?"vod":e.startsWith("024")||e.startsWith("054")||e.startsWith("055")||e.startsWith("025")||e.startsWith("059")||e.startsWith("59")||e.startsWith("24")||e.startsWith("54")||e.startsWith("55")?"mtn":"UNKNOWN",m=e=>/^[a-fA-F0-9]{64}$/.test(e);function x(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m)((0,a.W)(t))}},43290:function(e,t,s){"use strict";s.r(t),t.default={src:"/_next/static/media/logo.c3a77f37.svg",height:168,width:382,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[620,612,545,825,729,394,350,159,357,417,587,120,543,744],function(){return e(e.s=28122)}),_N_E=e.O()}]);